#!/usr/bin/env bash
# Resolve this script path even if called via symlink
SOURCE="${BASH_SOURCE[0]}"
while [ -L "$SOURCE" ]; do
  TARGET="$(readlink "$SOURCE")"
  if [[ "$TARGET" = /* ]]; then
    SOURCE="$TARGET"
  else
    DIR="$(cd -P "$(dirname "$SOURCE")" && pwd)"
    SOURCE="$DIR/$TARGET"
  fi
done
DIR="$(cd -P "$(dirname "$SOURCE")" && pwd)"

PY="$DIR/venv/bin/python3"
if [ ! -x "$PY" ]; then
  PY="$(command -v python3 || command -v python)"
fi

exec "$PY" "$DIR/thc4me_cli.py" "$@"
